!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.sigil=t():e.sigil=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){"use strict";function r(e){var e=e.trim();return e=e.replace(/:[\w-_]+/g,function(e){return'this.$evaluateProp("'+e.substr(1)+'")'}),e=e.replace(/#[\w-_]+/g,function(e){return'this.$evaluateAttribute("'+e.substr(1)+'")'}),""===e.trim()&&(e='""'),e}function i(e,t){var n=e.split("in"),i=n[0],o=r(n[1]);return"(function(){var $results = []; var $inputs="+o+"; if($inputs !== undefined && $inputs !== null){for(var $i=0;$i<$inputs.length;$i++){$results.push((function($inputs,$index){ var "+i+" = $inputs[$index];return "+t+";})($inputs,$i))}} return $results;}).call(this)"}function o(e){var t=e.textContent.replace(/{{\s*[\S\s]+\s*}}/g,function(){var e=arguments[0].substr(2,arguments[0].length-4);return'"+'+r(e)+'+"'});return t=t.replace(/\n/g,"\\n"),'"'+t+'"'}function a(e){if("#comment"===e.nodeName)return"null";if("#text"===e.nodeName)return o(e);var t=null,n=e.getAttribute("%if");null!==n&&(t=r(n));var l=null,u=e.getAttribute("%for");null!==u&&(l=u);for(var s=[],c=0;c<e.childNodes.length;c++)s.push(a(e.childNodes[c]));for(var f=[],d=[],p=[],c=0;c<e.attributes.length;c++)if("#"==e.attributes[c].nodeName[0]){var h='"'+e.attributes[c].nodeName.substr(1)+'":';h+=r(e.attributes[c].nodeValue),f.push(h)}else if(":"==e.attributes[c].nodeName[0]){var h='"'+e.attributes[c].nodeName.substr(1)+'":';h+=r(e.attributes[c].nodeValue),d.push(h)}else if("@"==e.attributes[c].nodeName[0]){var h='"'+e.attributes[c].nodeName.substr(1)+'":';h+="(function($event){ "+r(e.attributes[c].nodeValue)+" }).bind(this)",p.push(h)}else{if("%"==e.attributes[c].nodeName[0])continue;var h='"'+e.attributes[c].nodeName+'":';h+='"'+e.attributes[c].nodeValue+'"',f.push(h)}var v="{ attrs: { "+f.join(",")+" }, props: { "+d.join(",")+" }, on: { "+p.join(",")+" } }",y="h('"+e.nodeName+"', "+v+", $$$cleanArray(["+s.join(",")+"]))";return null!=l&&(y=i(l,y)),null!=t?"(("+t+")===true)?"+y+":null":y}function l(e){return a(e.body.children[0])}function u(e,t){for(var n=new DOMParser,r=n.parseFromString(e,"text/html"),i=l(r),o=["$classNames","$emit","$action"],a=o.concat(Object.keys(t)),u=[],s="function $$$cleanArray(a) { var i = 0; while (i < a.length) { if (a[i] == null ) { a.splice(i, 1); } else if ( Array.isArray(a[i]) ) { var l = a[i].length; a.splice.apply(a, [i, 1].concat(a[i])); i+=l;} else { i++; } } return a; }\n",c=0;c<a.length;c++)u.push("var "+a[c]+" = this."+a[c]+".bind(this);\n");var f=Function("var h = arguments[0];\n"+u.join("")+s+"return "+i);return function(){this.$lifecycle.beforeUpdate&&this.$lifecycle.beforeUpdate.call(this);var e=f.call(this,p,this.$evaluateProp.bind(this),this.$evaluateAttribute.bind(this));return null==e?void(this.innerHTML=""):(this.$vdom?b(this.$vdom,e):b(this.rootEl,e),this.$vdom=e,void(this.$lifecycle.updated&&this.$lifecycle.updated.call(this)))}}function s(e,t){e[t]={set:function(e){var n=this.$props[t];n!==e&&(this.$props[t]=e,this.$lifecycle.propertyChanged&&this.$lifecycle.propertyChanged.call(this,t,n,e),this.render())},get:function(){return this.$props[t]}}}function c(){var e=arguments[0],t=arguments[1],n=arguments[2];"object"!==f(arguments[1])||Array.isArray(arguments[1])||(n=arguments[1],t=[]);var r="",i=document._currentScript||document.currentScript,o=i.parentNode;r=o.querySelector("#"+e).innerHTML,r="<div>"+r+"</div>";var a={};n&&n.methods&&(a=n.methods);var l=u(r,a),c={},d={};if(n&&n.defaults&&(d=n.defaults),void 0!==t)for(var p=0;p<t.length;p++)s(c,t[p]);var h=Object.create(HTMLElement.prototype);h.createdCallback=function(){for(this.$props={},this.$lifecycle={},this.$originalContent=[];this.childNodes.length>0;){var e=this.childNodes[0];this.$originalContent.push(e),e.remove()}for(var t in c)Object.defineProperty(this,t,{get:c[t].get.bind(this),set:c[t].set.bind(this),enumerable:!0,configurable:!0});var r=Object.assign({},{$classNames:function(){return m.apply(null,arguments)},$emit:function(e,t){var n=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0});this.dispatchEvent(n)},$action:function(e,t){var n=new CustomEvent("action",{detail:{type:e,data:t},bubbles:!0,cancelable:!0});this.dispatchEvent(n)},$evaluateProp:function(e){var t=this.$props[e];return void 0===t||null===t?"":t},$evaluateAttribute:function(e){var e=this.getAttribute(e);return void 0===e||null===e?"":e}},a);for(var t in r)this[t]=r[t].bind(this);for(var t in d)this.$props[t]=d[t];n&&n.lifecycle&&(this.$lifecycle=n.lifecycle),this.rootEl=document.createElement("div"),this.appendChild(this.rootEl),this.render=l,this.$lifecycle.created&&n.lifecycle.created.call(this),this.render()},h.attachedCallback=function(){this.$lifecycle.attached&&this.$lifecycle.attached.call(this)},h.detachedCallback=function(){this.$lifecycle.detached&&this.$lifecycle.detached.call(this)},h.attributeChangedCallback=function(e,t,n){this.render(),this.$lifecycle.attributeChanged&&this.$lifecycle.attributeChanged.call(this,e,t,n)},document.registerElement(e,{prototype:h})}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n(1),p=n(2),h=n(3),v=n(4),y=n(5),m=n(6),b=d.init([h,v,y]);c.use=function(e){return function(){var t=arguments[0],n=arguments[1],r=arguments[2];return"object"!==f(arguments[1])||Array.isArray(arguments[1])||(r=arguments[1],n=[]),r=Object.assign(r,e),c(t,n,r)}},e.exports=c},function(e,t,n){var r,i,o,a,a,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){if("object"===l(t)&&"undefined"!=typeof e)e.exports=n();else{i=[],r=n,o="function"==typeof r?r.apply(t,i):r,!(void 0!==o&&(e.exports=o))}}(function(){return function e(t,n,r){function i(l,u){if(!n[l]){if(!t[l]){var s="function"==typeof a&&a;if(!u&&s)return a(l,!0);if(o)return o(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[l]={exports:{}};t[l][0].call(f.exports,function(e){var n=t[l][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[l].exports}for(var o="function"==typeof a&&a,l=0;l<r.length;l++)i(r[l]);return i}({1:[function(e,t,n){function r(e){return document.createElement(e)}function i(e,t){return document.createElementNS(e,t)}function o(e){return document.createTextNode(e)}function a(e,t,n){e.insertBefore(t,n)}function l(e,t){e.removeChild(t)}function u(e,t){e.appendChild(t)}function s(e){return e.parentElement}function c(e){return e.nextSibling}function f(e){return e.tagName}function d(e,t){e.textContent=t}t.exports={createElement:r,createElementNS:i,createTextNode:o,appendChild:u,removeChild:l,insertBefore:a,parentNode:s,nextSibling:c,tagName:f,setTextContent:d}},{}],2:[function(e,t,n){t.exports={array:Array.isArray,primitive:function(e){return"string"==typeof e||"number"==typeof e}}},{}],3:[function(e,t,n){"use strict";function r(e){return void 0===e}function i(e){return void 0!==e}function o(e,t){return e.key===t.key&&e.sel===t.sel}function a(e,t,n){var r,o,a={};for(r=t;r<=n;++r)o=e[r].key,i(o)&&(a[o]=r);return a}function l(e,t){function n(e){var n=e.id?"#"+e.id:"",r=e.className?"."+e.className.split(" ").join("."):"";return u(t.tagName(e).toLowerCase()+n+r,{},[],void 0,e)}function l(e,n){return function(){if(0===--n){var r=t.parentNode(e);t.removeChild(r,e)}}}function p(e,n){var r,o=e.data;i(o)&&i(r=o.hook)&&i(r=r.init)&&(r(e),o=e.data);var a,l=e.children,u=e.sel;if(i(u)){var c=u.indexOf("#"),d=u.indexOf(".",c),h=c>0?c:u.length,v=d>0?d:u.length,y=c!==-1||d!==-1?u.slice(0,Math.min(h,v)):u;if(a=e.elm=i(o)&&i(r=o.ns)?t.createElementNS(r,y):t.createElement(y),h<v&&(a.id=u.slice(h+1,v)),d>0&&(a.className=u.slice(v+1).replace(/\./g," ")),s.array(l))for(r=0;r<l.length;++r)t.appendChild(a,p(l[r],n));else s.primitive(e.text)&&t.appendChild(a,t.createTextNode(e.text));for(r=0;r<$.create.length;++r)$.create[r](f,e);r=e.data.hook,i(r)&&(r.create&&r.create(f,e),r.insert&&n.push(e))}else a=e.elm=t.createTextNode(e.text);return e.elm}function h(e,n,r,i,o,a){for(;i<=o;++i)t.insertBefore(e,p(r[i],a),n)}function v(e){var t,n,r=e.data;if(i(r)){for(i(t=r.hook)&&i(t=t.destroy)&&t(e),t=0;t<$.destroy.length;++t)$.destroy[t](e);if(i(t=e.children))for(n=0;n<e.children.length;++n)v(e.children[n])}}function y(e,n,r,o){for(;r<=o;++r){var a,u,s,c=n[r];if(i(c))if(i(c.sel)){for(v(c),u=$.remove.length+1,s=l(c.elm,u),a=0;a<$.remove.length;++a)$.remove[a](c,s);i(a=c.data)&&i(a=a.hook)&&i(a=a.remove)?a(c,s):s()}else t.removeChild(e,c.elm)}}function m(e,n,i,l){for(var u,s,c,f,d=0,v=0,m=n.length-1,g=n[0],x=n[m],$=i.length-1,N=i[0],S=i[$];d<=m&&v<=$;)r(g)?g=n[++d]:r(x)?x=n[--m]:o(g,N)?(b(g,N,l),g=n[++d],N=i[++v]):o(x,S)?(b(x,S,l),x=n[--m],S=i[--$]):o(g,S)?(b(g,S,l),t.insertBefore(e,g.elm,t.nextSibling(x.elm)),g=n[++d],S=i[--$]):o(x,N)?(b(x,N,l),t.insertBefore(e,x.elm,g.elm),x=n[--m],N=i[++v]):(r(u)&&(u=a(n,d,m)),s=u[N.key],r(s)?(t.insertBefore(e,p(N,l),g.elm),N=i[++v]):(c=n[s],b(c,N,l),n[s]=void 0,t.insertBefore(e,c.elm,g.elm),N=i[++v]));d>m?(f=r(i[$+1])?null:i[$+1].elm,h(e,f,i,v,$,l)):v>$&&y(e,n,d,m)}function b(e,n,a){var l,u;i(l=n.data)&&i(u=l.hook)&&i(l=u.prepatch)&&l(e,n);var s=n.elm=e.elm,c=e.children,f=n.children;if(e!==n){if(!o(e,n)){var d=t.parentNode(e.elm);return s=p(n,a),t.insertBefore(d,s,e.elm),void y(d,[e],0,0)}if(i(n.data)){for(l=0;l<$.update.length;++l)$.update[l](e,n);l=n.data.hook,i(l)&&i(l=l.update)&&l(e,n)}r(n.text)?i(c)&&i(f)?c!==f&&m(s,c,f,a):i(f)?(i(e.text)&&t.setTextContent(s,""),h(s,null,f,0,f.length-1,a)):i(c)?y(s,c,0,c.length-1):i(e.text)&&t.setTextContent(s,""):e.text!==n.text&&t.setTextContent(s,n.text),i(u)&&i(l=u.postpatch)&&l(e,n)}}var g,x,$={};for(r(t)&&(t=c),g=0;g<d.length;++g)for($[d[g]]=[],x=0;x<e.length;++x)void 0!==e[x][d[g]]&&$[d[g]].push(e[x][d[g]]);return function(e,i){var a,l,u,s=[];for(a=0;a<$.pre.length;++a)$.pre[a]();for(r(e.sel)&&(e=n(e)),o(e,i)?b(e,i,s):(l=e.elm,u=t.parentNode(l),p(i,s),null!==u&&(t.insertBefore(u,i.elm,t.nextSibling(l)),y(u,[e],0,0))),a=0;a<s.length;++a)s[a].data.hook.insert(s[a]);for(a=0;a<$.post.length;++a)$.post[a]();return i}}var u=e("./vnode"),s=e("./is"),c=e("./htmldomapi"),f=u("",{},[],void 0,void 0),d=["create","update","remove","destroy","pre","post"];t.exports={init:l}},{"./htmldomapi":1,"./is":2,"./vnode":4}],4:[function(e,t,n){t.exports=function(e,t,n,r,i){var o=void 0===t?void 0:t.key;return{sel:e,data:t,children:n,text:r,elm:i,key:o}}},{}]},{},[3])(3)})},function(e,t,n){var r,i,o,a,a,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){if("object"===l(t)&&"undefined"!=typeof e)e.exports=n();else{i=[],r=n,o="function"==typeof r?r.apply(t,i):r,!(void 0!==o&&(e.exports=o))}}(function(){return function e(t,n,r){function i(l,u){if(!n[l]){if(!t[l]){var s="function"==typeof a&&a;if(!u&&s)return a(l,!0);if(o)return o(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[l]={exports:{}};t[l][0].call(f.exports,function(e){var n=t[l][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[l].exports}for(var o="function"==typeof a&&a,l=0;l<r.length;l++)i(r[l]);return i}({1:[function(e,t,n){function r(e,t,n){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==t)for(var i=0;i<t.length;++i)r(t[i].data,t[i].children,t[i].sel)}var i=e("./vnode"),o=e("./is");t.exports=function(e,t,n){var a,l,u,s={};if(void 0!==n?(s=t,o.array(n)?a=n:o.primitive(n)&&(l=n)):void 0!==t&&(o.array(t)?a=t:o.primitive(t)?l=t:s=t),o.array(a))for(u=0;u<a.length;++u)o.primitive(a[u])&&(a[u]=i(void 0,void 0,void 0,a[u]));return"s"===e[0]&&"v"===e[1]&&"g"===e[2]&&r(s,a,e),i(e,s,a,l,void 0)}},{"./is":2,"./vnode":3}],2:[function(e,t,n){t.exports={array:Array.isArray,primitive:function(e){return"string"==typeof e||"number"==typeof e}}},{}],3:[function(e,t,n){t.exports=function(e,t,n,r,i){var o=void 0===t?void 0:t.key;return{sel:e,data:t,children:n,text:r,elm:i,key:o}}},{}]},{},[1])(1)})},function(e,t){"use strict";function n(e,t){var n,r,i,o=t.elm,a=e.data.props,l=t.data.props;if(a||l){a=a||{},l=l||{};for(n in a)l[n]||delete o[n];for(n in l)r=l[n],i=a[n],i===r||"value"===n&&o[n]===r||(o[n]=r)}}var r={create:n,update:n};e.exports=r},function(e,t){"use strict";function n(e,t){var n,i,a,l,u=t.elm,s=e.data.attrs,c=t.data.attrs;if(s||c){s=s||{},c=c||{};for(n in c)i=c[n],a=s[n],a!==i&&(!i&&o[n]?u.removeAttribute(n):(l=n.split(":"),l.length>1&&r.hasOwnProperty(l[0])?u.setAttributeNS(r[l[0]],n,i):u.setAttribute(n,i)));for(n in s)n in c||u.removeAttribute(n)}}for(var r={xlink:"http://www.w3.org/1999/xlink"},i=["allowfullscreen","async","autofocus","autoplay","checked","compact","controls","declare","default","defaultchecked","defaultmuted","defaultselected","defer","disabled","draggable","enabled","formnovalidate","hidden","indeterminate","inert","ismap","itemscope","loop","multiple","muted","nohref","noresize","noshade","novalidate","nowrap","open","pauseonexit","readonly","required","reversed","scoped","seamless","selected","sortable","spellcheck","translate","truespeed","typemustmatch","visible"],o=Object.create(null),a=0,l=i.length;a<l;a++)o[i[a]]=!0;var u={create:n,update:n};e.exports=u},function(e,t){"use strict";function n(e,t,r){if("function"==typeof e)e.call(t,r,t);else if("object"===("undefined"==typeof e?"undefined":l(e)))if("function"==typeof e[0])if(2===e.length)e[0].call(t,e[1],r,t);else{var i=e.slice(1);i.push(r),i.push(t),e[0].apply(t,i)}else for(var o=0;o<e.length;o++)n(e[o])}function r(e,t){var r=e.type,i=t.data.on;i&&i[r]&&n(i[r],t,e)}function i(){return function e(t){r(t,e.vnode)}}function o(e,t){var n,r=e.data.on,o=e.listener,a=e.elm,l=t&&t.data.on,u=t&&t.elm;if(r!==l){if(r&&o)if(l)for(n in r)l[n]||a.removeEventListener(n,o,!1);else for(n in r)a.removeEventListener(n,o,!1);if(l){var s=t.listener=e.listener||i();if(s.vnode=t,r)for(n in l)r[n]||u.addEventListener(n,s,!1);else for(n in l)u.addEventListener(n,s,!1)}}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"==typeof e?"undefined":a(e)},u={create:o,update:o,destroy:o};e.exports=u},function(e,t,n){var r,i;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],i=function(){return n}.apply(t,r),!(void 0!==i&&(e.exports=i)))}()}])});